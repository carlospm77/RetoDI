<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- HEAD -->
<!-- Inserta el fragmento <head> -->
<head th:replace="~{fragments/head :: head}"></head>

<!-- Permite que el footer quede abajo incluso con poco contenido -->
<body class="d-flex flex-column min-vh-100">

<!-- NAVBAR -->
<!-- Inserta el fragment menú de navegación -->
<th:block th:replace="~{fragments/navbar :: navbar}"></th:block>

<!-- CONTENIDO PRINCIPAL -->
<main class="container mt-4 flex-grow-1">

    <!-- Título dinámico: cambia según si el cliente es nuevo o se está editando -->
    <h2 th:text="${cliente.id == null ? 'Nuevo Cliente' : 'Editar Cliente'}"></h2>

    <!-- Formulario enlazado al objeto 'cliente' -->
    <form th:action="@{/clientes}" th:object="${cliente}" method="post" class="mt-3">

        <!-- Campo oculto para el ID -->
        <input type="hidden" th:field="*{id}" />

        <!-- Campo: Nombre -->
        <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input type="text" th:field="*{nombre}" class="form-control" required>
        </div>

        <!-- Campo: Edad -->
        <div class="mb-3">
            <label class="form-label">Edad</label>
            <input type="number" th:field="*{edad}" class="form-control" required>
        </div>

        <!-- Campo: Género -->
        <div class="mb-3">
            <label class="form-label">Género</label>
            <select th:field="*{genero}" class="form-select">
                <option value="Hombre">Hombre</option>
                <option value="Mujer">Mujer</option>
                <option value="Otro">Otro</option>
            </select>
        </div>

        <!-- Checkbox: ¿intolerancia? -->
        <div class="form-check mb-3">
            <label class="form-check-label">¿Tiene intolerancia?</label>
            <input class="form-check-input" type="checkbox" th:field="*{intolerancia}">
        </div>

        <!-- Campo: Detalle de la intolerancia -->
        <div class="mb-3">
            <label class="form-label">Detalle de la intolerancia</label>
            <textarea th:field="*{detalleIntolerancia}" class="form-control"></textarea>
        </div>

        <!-- Botones de acción -->
        <button class="btn btn-success">Guardar</button>
        <a href="/clientes" class="btn btn-secondary">Cancelar</a>

    </form>

</main>

<!-- FOOTER -->
<!-- Inserta el fragmnet del footer -->
<th:block th:replace="~{fragments/footer :: footer}"></th:block>


<!-- SCRIPTS -->
<!-- Inserta el fragment de los scripts-->
<th:block th:replace="~{fragments/scripts :: scripts}"></th:block>
</body>
</html>
